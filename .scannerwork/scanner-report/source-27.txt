<div class="mat-elevation-z8">
    <table mat-table [dataSource]="dataSource" matSort class="mat-elevation-z8" >
  
      <ng-container matColumnDef="position">
        <th mat-header-cell *matHeaderCellDef mat-sort-header></th>
        <td mat-cell *matCellDef="let element">
          <input
            type="radio"
            id="html"
            name="fav_language"
            [value]="element.TEMPLATE_ID"
            (click)="getValue(element.TEMPLATE_ID)"
          />
        </td>
      </ng-container>
  
      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Name</th>
        <td mat-cell *matCellDef="let element" >
          <span >{{ element.SurveyNameEn }}</span>
        </td>
      </ng-container>
  
      <ng-container matColumnDef="from">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>From</th>
        <ng-container *matCellDef="let element">
          <td mat-cell *ngIf="convertToJson(element.SurveyPeriods) && convertToJson(element.SurveyPeriods).length == 1">
            {{
              convertToJson(element.SurveyPeriods)[0].START_DATE
                | date: "dd/MM/yyyy"
            }}
          </td>
  
  
        <ng-container>
  
          <td mat-cell *ngIf="convertToJson(element.SurveyPeriods).length > 1 ">
          <select name="cars" id="cars" class="form-select" >
            <option  *ngFor="let y of convertToJson(element.SurveyPeriods)" [value]="y.START_DATE">{{y.START_DATE | date:'dd/MM/yyyy'}}</option>
            
          </select>
          </td>
  
        
        </ng-container>
  
  
  
  
        </ng-container>
      </ng-container>
  
      <ng-container matColumnDef="to">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>To</th>
        <ng-container *matCellDef="let element">
          <td mat-cell *ngIf="convertToJson(element.SurveyPeriods) && convertToJson(element.SurveyPeriods).length == 1 ">
          <span>
            {{  convertToJson(element.SurveyPeriods)[0].END_DATE | date: "dd/MM/yyyy" }}</span>

  
          </td>
  
          <td mat-cell *ngIf="convertToJson(element.SurveyPeriods) && convertToJson(element.SurveyPeriods).length != 1 ">
            <select name="cars" id="cars" class="form-select" >
              <option *ngFor="let y of convertToJson(element.SurveyPeriods)" [value]="y.END_DATE">{{y.END_DATE | date:'dd/MM/yyyy'}}</option>
              
            </select>
            </td>
  
        </ng-container>
      </ng-container>
  
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
  
    <mat-paginator
      [pageSizeOptions]="[5, 10, 20]"
      showFirstLastButtons
      aria-label="Select page of periodic elements"
    >
    </mat-paginator>

  
  </div>
  
  